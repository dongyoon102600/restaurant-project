<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurant Order System</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Restaurant Order System</h1>
        <nav>
            <ul>
                <li><a href="#" id="showOrder">Order</a></li>
                <li><a href="#" id="showCart">Cart (<span id="cart-count">0</span>)</a></li>
                <li><a href="#" id="showInfo">Restaurant Info</a></li>
                <li id="logout-section" style="display:none;"><a href="#" id="logout-button">Logout</a></li> <!-- 로그아웃 버튼 -->
            </ul>
        </nav>
    </header>

    <main>
        <!-- Order Section -->
        <section id="order" class="active">
            <h2>Order</h2>
            <div class="menu-container">
                <div class="categories">
                    <h3>Categories</h3>
                    <div id="category-list"></div> <!-- 카테고리 리스트 표시 영역 -->
                </div>

                <div class="menu-items" id="menu-items">
                    <h3>Select a category to view items</h3>
                </div>
            </div>

            <!-- 관리자 전용 카테고리 추가 및 수정 폼 -->
            <div id="admin-category-form" style="display:none;">
                <h3>Add New Category</h3>
                <form id="add-category-form">
                    <input type="text" id="new-category-name" placeholder="Enter category name" required>
                    <button type="submit">Add Category</button>
                </form>

                <h3>Edit Category</h3>
                <form id="edit-category-form" style="display:none;">
                    <input type="text" id="edit-category-name" required>
                    <button type="submit">Update Category</button>
                    <button type="button" id="cancel-edit-category">Cancel</button>
                </form>
            </div>

            <!-- 관리자 전용 메뉴 추가 폼 -->
            <div id="admin-menu-form" style="display:none;">
                <h3>Add New Menu Item</h3>
                <form id="add-menu-item-form">
                    <label for="menu-category-select">Category:</label>
                    <select id="menu-category-select" required>
                        <!-- 카테고리 목록이 동적으로 추가됩니다 -->
                    </select>
                    <label for="new-menu-item">Menu Item:</label>
                    <input type="text" id="new-menu-item" placeholder="Enter item name" required>
                    <label for="new-menu-price">Price:</label>
                    <input type="number" id="new-menu-price" placeholder="Enter price" required>
                    
                    <!-- 이미지 업로드 -->
                    <label for="new-menu-image">Upload Image:</label>
                    <input type="file" id="new-menu-image" accept="image/*" required>
                    <img id="new-image-preview" style="max-width: 100px; display: none;"/>
                    
                    <button type="submit">Add Item</button>
                </form>
            </div>

            <!-- Cart Summary at the bottom of Order Section -->
            <div id="cart-summary" class="cart-summary">
                <div class="cart-details">
                    <span id="cart-total-items">0 items</span>
                    <span id="cart-total-price">Total: $0.00</span>
                </div>
                <button id="checkout-button" class="checkout-button">Checkout</button>
            </div>
        </section>

        <!-- Restaurant Info Section -->
        <section id="info">
            <h2>Restaurant Information</h2>
            <p>Welcome to our restaurant! We serve delicious food made from fresh ingredients.</p>

            <!-- 관리자 로그인 폼 추가 -->
            <h3>Admin Login</h3>
            <form id="admin-login-form">
                <label for="admin-password">Enter Admin Password:</label>
                <input type="password" id="admin-password" placeholder="Enter password" required>
                <button type="submit">Login</button>
            </form>
            <p id="login-error" style="color:red; display:none;">Incorrect password. Please try again.</p>
        </section>

        <!-- 메뉴 수정 모달 창 -->
        <div id="edit-menu-modal" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%, -50%); background-color:white; padding:20px; box-shadow:0 0 10px rgba(0,0,0,0.1); z-index:100;">
            <h3>Edit Menu Item</h3>
            <form id="edit-menu-item-form">
                <label for="edit-menu-name">Menu Item Name:</label>
                <input type="text" id="edit-menu-name" required>
                <label for="edit-menu-price">Price:</label>
                <input type="number" id="edit-menu-price" required>
                
                <!-- 이미지 수정 업로드 -->
                <label for="edit-menu-image">Upload New Image:</label>
                <input type="file" id="edit-menu-image" accept="image/*">
                <img id="edit-image-preview" style="max-width: 100px; display: none;"/>
                
                <button type="submit">Update Item</button>
                <button type="button" id="close-edit-modal">Cancel</button>
            </form>
        </div>
    </main>

    <footer>
        <p>&copy; 2024 Restaurant Order System</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>
